<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: logger.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: logger.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>'use strict';
/**
*@function getLogger - function to build a log4js module so as to make logging easier
*@param {string} name - string format of log file
*@example
        const logger  = require("./logger");
        infoLogger  = log4js.getLogger("info");
        traceLogger  = log4js.getLogger("trace");
        debugLogger  = log4js.getLogger("debug");

        infoLogger.info("现在时间：",new Date().toLocaleString());
        traceLogger.trace("现在时间：",new Date().toLocaleString());
        debugLogger.debug("现在时间：",new Date().toLocaleString());
*@auther weizy@126.com
*@version 1.0.0
*/
const log4js = require('log4js');

log4js.configure({
    'replaceConsole':false,
    'appenders':{
        'stdout':{
            'type':'console'
        },
        'trace':{
            'type':'dateFile',
            'filename':'log/log/',
            'pattern':'trace-yyyy-MM-dd.log',
            'alwaysIncludePattern':true
        },
        'debug':{
            'type':'dateFile',
            'filename':'log/log/',
            'pattern':'debug-yyyy-MM-dd.log',
            'alwaysIncludePattern':true
        },
        'info':{
            'type':'dateFile',
            'filename':'log/log/',
            'pattern':'info-yyyy-MM-dd.log',
            'alwaysIncludePattern':true
        },
        'warn':{
            'type':'dateFile',
            'filename':'log/log/',
            'pattern':'warn-yyyy-MM-dd.log',
            'alwaysIncludePattern':true
        },
        'error':{
            'type':'dateFile',
            'filename':'log/log/',
            'pattern':'err-yyyy-MM-dd.log',
            'alwaysIncludePattern':true
        },
        'fatal':{
            'type':'dateFile',
            'filename':'log/log/',
            'pattern':'fatal-yyyy-MM-dd.log',
            'alwaysIncludePattern':true
        }
    },
    'categories':{
        'default':{'appenders':['stdout','info'],'level':'info'},
        'trace':{'appenders':['stdout','trace'],'level':'trace'},
        'debug':{'appenders':['stdout','debug'],'level':'debug'},
        'warn':{'appenders':['stdout','warn'],'level':'warn'},
        'error':{'appenders':['stdout','error'],'level':'error'},
        'fatal':{'appenders':['stdout','fatal'],'level':'fatal'}
    }
});

exports.getLogger=function(name){
    return log4js.getLogger(name||'info');
};

/**
*@function useLogger - logger for express project
*@param {expressapp} app - Express format app
*@param {log4js} logger - log4js
*@auther weizy@126.com
*@version 1.0.0
*/
exports.useLogger=function(app,logger){
    app.use(log4js.connectLogger(logger||log4js.getLogger('info'),{
        'format': '[:remote-addr :method :url :status :response-timems][:referrer HTTP/:http-version :user-agent]'
    }));
};</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="ConcatParser.html">ConcatParser</a></li><li><a href="DltDriver.html">DltDriver</a></li><li><a href="logger.html">logger</a></li><li><a href="wsParser%2520-%2520function%2520to%2520parse%2520Ali%2520Iot%2520Linkedge%2520websocket%2520protocal.html">wsParser - function to parse Ali Iot Linkedge websocket protocal</a></li></ul><h3>Global</h3><ul><li><a href="global.html#*_fetchValue-yieldfunctiontofeeddriver">*_fetchValue - yield function to feed driver</a></li><li><a href="global.html#_buildDeviceList">_buildDeviceList</a></li><li><a href="global.html#_getAllProperties">_getAllProperties</a></li><li><a href="global.html#_initPort">_initPort</a></li><li><a href="global.html#_updateValue-toupdatemeterlistvalueinconfiguration">_updateValue - to update meterlist value in configuration</a></li><li><a href="global.html#bufToCmd-aparserfunctiontotransformSerialportbufferbackintocustomCmd">bufToCmd - a parser function to transform Serialport buffer back into custom Cmd</a></li><li><a href="global.html#closePort">closePort</a></li><li><a href="global.html#cmdToBuf-aparserfunctiontotransformcustomcommandtoSerialportbuffer">cmdToBuf - a parser function to transform custom command to Serialport buffer</a></li><li><a href="global.html#getLogger-functiontobuildalog4jsmodulesoastomakeloggingeasier">getLogger - function to build a log4js module so as to make logging easier</a></li><li><a href="global.html#getProperty">getProperty</a></li><li><a href="global.html#onlineDevice">onlineDevice</a></li><li><a href="global.html#reportProperty">reportProperty</a></li><li><a href="global.html#setProperty">setProperty</a></li><li><a href="global.html#updateProperty">updateProperty</a></li><li><a href="global.html#useLogger-loggerforexpressproject">useLogger - logger for express project</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Wed Dec 18 2019 10:43:58 GMT+0800 (CST)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
